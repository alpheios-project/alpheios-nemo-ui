{% extends "main::container.html" %}

{% block article %}
<article>
    <header>
        <h1>
        {% if collections.current %}
        <span lang="{{collections.current.label_lang}}">{{collections.current.label}}</span>
        {% else %}
        Text Collections
        {% endif %}
        </h1>
    </header>
    <section class="card-columns">
        <ul>
        {% if collections.expanded_members|length > 0 %}
          {% for coll in collections.expanded_members %}
              <li class="card"><span lang="{{collections.current.label_lang}}">{{ coll.work.label }}</span><br/>
                  {% set ed = coll.editions[0] %}
                  <a class="card-link" href="{{url_for('.r_references', objectId=ed.id)}}">Browse</a>
                  <a class="card-link" href="{{url_for('.r_first_passage', objectId=ed.id)}}">Read</a>
              </li>
          {% endfor %}
        {% else %}
          {% for coll in collections.members %}
              {% if coll.model == 'http://w3id.org/dts-ontology/resource' %}
              <li class="card">
                  <span lang="{{coll.label_lang}}">{{ coll.label }}</span><br />
                  <a class="card-link" href="{{url_for('.r_references', objectId=coll.id)}}">Browse</a>
                  <a class="card-link" href="{{url_for('.r_first_passage', objectId=coll.id)}}">Read</a>
              </li>
              {% else %}
              <li class="card">
                  <a class="card-link" href="{{url_for('.r_collection', objectId=coll.id)}}">{{ coll.label }} ({{coll.size}})</a>
              </li>
              {% endif %}
          {% endfor %}
        {% endif %}
        </ul>
    </section>
</article>
{% endblock %}
